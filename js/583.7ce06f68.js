"use strict";(self["webpackChunkhm_shopping"]=self["webpackChunkhm_shopping"]||[]).push([[583],{583:function(t,e,r){r.r(e),r.d(e,{default:function(){return l}});r(4114);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search"},[e("van-nav-bar",{attrs:{fixed:"",title:"商品列表","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),e("van-search",{attrs:{readonly:"",shape:"round",background:"#ffffff",value:t.querySearch||"搜索商品","show-action":""},on:{click:function(e){return t.$router.push("/search")}},scopedSlots:t._u([{key:"action",fn:function(){return[e("van-icon",{staticClass:"tool",attrs:{name:"apps-o"}})]},proxy:!0}])}),e("div",{staticClass:"sort-btns"},[e("div",{staticClass:"sort-item",on:{click:function(e){return t.getSearch("all")}}},[t._v("综合")]),e("div",{staticClass:"sort-item",on:{click:function(e){return t.getSearch("sales")}}},[t._v("销量")]),e("div",{staticClass:"sort-item",on:{click:function(e){return t.getSearch("price",t.xl=0===t.xl?1:0)}}},[t._v("价格 ")])]),e("div",{staticClass:"goods-list"},t._l(t.proList,(function(t){return e("GoodsItem",{key:t.goods_id,attrs:{item:t}})})),1)],1)},o=[],a=r(9879),n=r(7867),c={name:"SearchIndex",components:{GoodsItem:a.A},computed:{querySearch(){return this.$route.query.search}},data(){return{page:1,proList:[],xl:0}},async created(){this.getSearch()},methods:{async getSearch(t,e){const{data:{list:r}}=await(0,n.DW)({categoryId:this.$route.query.categoryId,sortType:t,sortPrice:e,goodsName:this.querySearch,page:this.page});this.proList=r.data}}},i=c,u=r(1656),d=(0,u.A)(i,s,o,!1,null,"561f7830",null),l=d.exports},7867:function(t,e,r){r.d(e,{DW:function(){return o},FH:function(){return a},ry:function(){return n}});var s=r(5720);const o=t=>{const{sortType:e,sortPrice:r,categoryId:o,goodsName:a,page:n}=t;return s.A.get("/goods/list",{params:{sortType:e,sortPrice:r,categoryId:o,goodsName:a,page:n}})},a=t=>s.A.get("/goods/detail",{params:{goodsId:t}}),n=(t,e)=>s.A.get("/comment/listRows",{params:{goodsId:t,limit:e}})}}]);
//# sourceMappingURL=583.7ce06f68.js.map